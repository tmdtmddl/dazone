import{e as g,r as o,o as j,j as e,p as k,t as w,l as v,c as N,O as y}from"./index-Dp55R4ab.js";import{I,a as S,b as B,c as C,d as M}from"./index-BVpbCNk8.js";import{T as L}from"./input-BpfK-2in.js";const b=({menuHandler:m})=>{const{user:a,signout:l}=g(),u=o.useMemo(()=>{const t=[{to:"/",name:"홈"},{to:"/product",name:"상품보기"},{to:"/myAccount",name:"나의정보"}];return a&&t.push({to:"/cart",name:"장바구니"},{name:"주문내역",to:"orders"},{name:"로그아웃"}),t},[a]),n=j();return e.jsx("nav",{className:"fixed bg-white top-15 right-0 w-full z-10 border border-border border-l-0 border-r-0 dark:bg-darkBg dark:border-darkBorder md:relative md:flex md:w-auto md:top-0",children:u.map(({name:t,to:r})=>{const d=r===n.pathname,c=()=>{m(),t==="로그아웃"&&l()};return e.jsx(k,{to:t==="로그아웃"&&n.pathname==="/myAccount"?"/":r,onClick:c,className:w("hover:shadow-none hover:bg-bg hover:text-theme dark:hover:bg-darkBorder rounded-none",d&&"text-theme",(t==="홈"||t==="상품보기")&&"md:hidden"),children:t},t)})})},D="/dazone/assets/logo-DDInLa9Y.png",T="/dazone/assets/logow-D3TeFSpC.png",A=()=>{const[m,a]=o.useState(!1),[l,u]=o.useState(document.body.className==="dark"),n=()=>a(!1),{user:t}=g(),{cart:r}=v(),d=N(),[c,p]=o.useState(0);o.useEffect(()=>{const s=()=>p(window.scrollY);return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]);const[i,x]=o.useState(""),h=o.useRef(null),f=o.useCallback(()=>{var s;if(i.length===0)return alert("검색어를 입력해주세요."),(s=h.current)==null?void 0:s.focus();x(""),d(`/product?keyword=${i}`)},[i,d]);return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:w("border-b border-b-border dark:bg-darkBg header dark:border-b-darkBorder bg-white",c>=100&&"fixed top-0 left-0 w-full z-10"),children:e.jsxs("div",{className:"flex gap-x-2.5 max-w-300 mx-auto p-2.5",children:[e.jsx(k,{to:"/",className:"hover:shadow-none",children:e.jsx("img",{src:l?T:D,alt:"logo",className:"h-10 w-25 min-w-25"})}),e.jsxs("form",{className:"flex flex-1 gap-x-2.5",onSubmit:s=>{s.preventDefault(),f()},children:[e.jsx("div",{className:"flex-1",children:e.jsx(L,{placeholder:"검색어를 입력해주세요.",id:"keyword",onChangeText:x,ref:h,value:i})}),e.jsx("button",{className:"bg-theme text-bg text-2xl w-10 dark:text-darkBg",children:e.jsx(I,{})})]}),e.jsx("button",{className:"w-10 bg-bg dark:bg-darkBorder",onClick:()=>{document.body.classList.toggle("dark"),u(s=>!s)},children:l?e.jsx(B,{className:"text-amber-300"}):e.jsx(S,{className:"text-red-300"})}),t&&e.jsxs("button",{className:"text-2xl w-10 bg-bg dark:bg-darkBorder md:hidden relative",onClick:()=>d("/cart"),children:[e.jsx(C,{}),r.length>0&&e.jsx("span",{className:"absolute top-[-4px] right-[-4px] rounded-full bg-red-500 text-white text-xs w-4 h-4",children:r.length})]}),e.jsx("button",{className:"text-2xl w-10 bg-bg dark:bg-darkBorder md:hidden",onClick:()=>a(!0),children:e.jsx(M,{})}),m&&e.jsx(b,{menuHandler:n}),e.jsx("div",{className:"hidden md:block",children:e.jsx(b,{menuHandler:n})})]})}),c>=100&&e.jsx("button",{className:"btn rounded-sm fixed bottom-2.5 right-2.5 z-10",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Top"}),e.jsx("main",{className:"max-w-300 mx-auto",children:e.jsx(y,{})})]})};export{A as default};
